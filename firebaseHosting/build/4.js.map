{"version":3,"sources":["../../src/pages/signup/signup.module.ts","../../src/pages/signup/signup.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { IonicStepperModule } from 'ionic-stepper';\n\n\n\nimport { SignupPage } from './signup';\n\n@NgModule({\n  declarations: [\n    SignupPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SignupPage),\n    TranslateModule.forChild(),\n    IonicStepperModule\n  ],\n  exports: [\n    SignupPage\n  ]\n})\nexport class SignupPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IonicPage, NavController, ToastController, ActionSheetController } from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Camera } from '@ionic-native/camera';\nimport { User } from '../../providers';\nimport { MainPage } from '../';\n\n@IonicPage()\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html'\n})\nexport class SignupPage {\n  @ViewChild('fileInput') fileInput;\n  // The account fields for the login form.\n  // If you're using the username field with or without email, make\n  // sure to add it to the type\n  nombres: string = '';\n  apellidos: string = '';\n  email: string = '';\n  password: string = '';\n  form: FormGroup;\n  isReadyToSave: boolean;\n\n  // Our translated text strings\n  private signupErrorString: string;\n\n  constructor(public navCtrl: NavController,\n    public user: User,\n    public toastCtrl: ToastController,\n    public translateService: TranslateService,\n    public formBuilder: FormBuilder,\n    public camera: Camera,\n    public actionSheetCtrl: ActionSheetController\n  ) {\n\n    this.translateService.get('SIGNUP_ERROR').subscribe((value) => {\n      this.signupErrorString = value;\n    })\n\n    this.form = formBuilder.group({\n      profilePic: ['']\n    });\n\n    // Watch the form for changes, and\n    this.form.valueChanges.subscribe((v) => {\n      this.isReadyToSave = this.form.valid;\n    });\n  }\n\n  selectChange() {\n    console.log('Pagina Cambiada');\n  }\n\n  processWebImage(event) {\n    let reader = new FileReader();\n    reader.onload = (readerEvent) => {\n\n      let imageData = (readerEvent.target as any).result;\n      this.form.patchValue({ 'profilePic': imageData });\n    };\n\n    reader.readAsDataURL(event.target.files[0]);\n  }\n\n  getProfileImageStyle() {\n    return 'url(' + this.form.controls['profilePic'].value + ')'\n  }\n\n  getPicture() {\n    const actionSheet = this.actionSheetCtrl.create({\n      title: 'Seleccione una OpciÃ³n',\n      buttons: [\n        {\n          text: 'Tomar Foto',\n          role: 'tomarFoto',\n          handler: () => {\n            if (Camera['installed']()) {\n              this.camera.getPicture({\n                destinationType: this.camera.DestinationType.DATA_URL,\n                targetWidth: 256,\n                targetHeight: 256\n              }).then((imagen) => {\n                this.form.patchValue({ 'profilePic': `data:perfil_${this.email}/jpg;base64,` + imagen });\n              }, (err) => {\n                alert('No se pudo tomar la foto: ' + err);\n              })\n            } else {\n              alert('Camara no detectada');\n            }\n          }\n        },\n        {\n          text: 'Elegir de Mis Documentos',\n          role: 'elegirFromDocumentos',\n          handler: () => {\n            this.fileInput.nativeElement.click();\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n  doSignup() {\n    // Attempt to login in through our User service\n    this.user.signup(this.email).subscribe((resp) => {\n      this.navCtrl.push(MainPage);\n    }, (err) => {\n\n      this.navCtrl.push(MainPage);\n\n      // Unable to sign up\n      let toast = this.toastCtrl.create({\n        message: this.signupErrorString,\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts"],"sourceRoot":""}